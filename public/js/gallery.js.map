{"version":3,"sources":["file:///Users/shane/Blog/themes/hugo-narrow/assets/js/gallery.js"],"sourcesContent":["/**\n * 模块化图片画廊系统\n * 分离的灯箱和布局管理器\n */\n\n// 灯箱管理器\nclass LightboxManager {\n  constructor(config = {}) {\n    this.config = config;\n    this.instances = [];\n  }\n\n  initialize(container, galleryId) {\n    if (typeof GLightbox === 'undefined') {\n      console.error('GLightbox is not available');\n      return null;\n    }\n\n    const options = {\n      selector: `[data-gallery=\"${galleryId}\"]`,\n      touchNavigation: this.config.touchNavigation ?? this.config.touchnavigation ?? true,\n      loop: this.config.loop ?? false,\n      draggable: this.config.draggable ?? true,\n      zoomable: this.config.zoomable ?? true,\n      autoplayVideos: this.config.autoplayVideos ?? this.config.autoplayvideos ?? false,\n      preload: this.config.preload ?? true,\n      width: this.config.width ?? '90vw',\n      height: this.config.height ?? '90vh',\n      descPosition: this.config.descPosition ?? this.config.descposition ?? 'bottom'\n    };\n\n\n    try {\n      const lightbox = GLightbox(options);\n      \n      this.instances.push({\n        container: container,\n        instance: lightbox,\n        galleryId: galleryId\n      });\n\n      return lightbox;\n    } catch (error) {\n      console.error(`Error initializing GLightbox for ${galleryId}:`, error);\n      return null;\n    }\n  }\n\n  setupAttributes(link, img, caption) {\n    const imgTitle = img.getAttribute('data-gallery-title') || img.title || '';\n    const imgAlt = img.getAttribute('data-gallery-alt') || img.alt || '';\n\n    let description = '';\n\n    if (imgTitle \u0026\u0026 imgAlt \u0026\u0026 imgTitle !== imgAlt) {\n      description = `\u003ch4\u003e${imgTitle}\u003c/h4\u003e\u003cp\u003e${imgAlt}\u003c/p\u003e`;\n    } else if (imgTitle) {\n      description = `\u003ch4\u003e${imgTitle}\u003c/h4\u003e`;\n    } else if (imgAlt) {\n      description = `\u003cp\u003e${imgAlt}\u003c/p\u003e`;\n    } else if (caption) {\n      const captionText = caption.textContent.trim();\n      if (captionText) {\n        description = `\u003cp\u003e${captionText}\u003c/p\u003e`;\n      }\n    }\n\n    if (description) {\n      link.setAttribute('data-description', description);\n    }\n  }\n\n  destroy() {\n    this.instances.forEach(instance =\u003e {\n      try {\n        if (instance.instance \u0026\u0026 instance.instance.destroy) {\n          instance.instance.destroy();\n        }\n      } catch (error) {\n        console.error(`Error destroying lightbox instance:`, error);\n      }\n    });\n    this.instances = [];\n  }\n}\n\n// Justified布局管理器\nclass JustifiedLayoutManager {\n  constructor(config = {}) {\n    this.config = config;\n    this.instances = [];\n  }\n\n  initialize(container) {\n    if (typeof fjGallery === 'undefined') {\n      console.error('fjGallery is not available');\n      return false;\n    }\n \n    const options = {\n      itemSelector: '.fj-gallery-item',\n      imageSelector: 'img',\n      rowHeight: parseInt(this.config.rowHeight ?? this.config.rowheight) || 200,\n      gutter: parseInt(this.config.gutter) || 10,\n      lastRow: this.config.lastRow ?? this.config.lastrow ?? 'left',\n      transitionDuration: this.config.transitionDuration ?? this.config.transitionduration ?? '0.3s',\n      calculateItemsHeight: this.config.calculateItemsHeight ?? this.config.calculateitemsheight ?? false,\n      resizeDebounce: parseInt(this.config.resizeDebounce ?? this.config.resizedebounce) || 100,\n      rowHeightTolerance: parseFloat(this.config.rowHeightTolerance ?? this.config.rowheighttolerance) || 0.25,\n      maxRowsCount: parseInt(this.config.maxRowsCount ?? this.config.maxrowscount) || Number.POSITIVE_INFINITY\n    };\n    // console.log('options:', options);\n    // console.log('config', this.config);\n\n    try {\n      fjGallery([container], options);\n      \n      this.instances.push({\n        container: container,\n        options: options\n      });\n\n      return true;\n    } catch (error) {\n      console.error(`Error initializing fjGallery for ${container.id}:`, error);\n      return false;\n    }\n  }\n\n  resize() {\n    this.instances.forEach(instance =\u003e {\n      try {\n        fjGallery([instance.container], 'resize');\n      } catch (error) {\n        console.error('Error resizing fjGallery:', error);\n      }\n    });\n  }\n\n  destroy() {\n    this.instances.forEach(instance =\u003e {\n      try {\n        fjGallery([instance.container], 'destroy');\n      } catch (error) {\n        console.error('Error destroying fjGallery instance:', error);\n      }\n    });\n    this.instances = [];\n  }\n}\n\n\n// 主画廊控制器\nclass ImageGallery {\n\n  constructor() {\n    this.config = window.HUGO_GALLERY_CONFIG || {};\n    const parseConfig = (config) =\u003e {\n      if (typeof config === 'string') {\n        try {\n          return JSON.parse(config);\n        } catch (e) {\n          console.error('JSON parse error:', e);\n          return {};\n        }\n      }\n      return config || {};\n    };\n\n    this.lightboxManager = new LightboxManager(parseConfig(this.config.lightbox_options));\n    this.justifiedManager = new JustifiedLayoutManager(parseConfig(this.config.justified));\n    this.galleries = [];\n    this.init();\n  }\n\n  init() {\n    if (document.readyState === 'loading') {\n      document.addEventListener('DOMContentLoaded', () =\u003e this.setup());\n    } else {\n      this.setup();\n    }\n  }\n\n  setup() {\n    this.processImages();\n  }\n\n  processImages() {\n    const imageFigures = document.querySelectorAll('.image-figure[data-gallery-type=\"auto\"]');\n\n    if (imageFigures.length === 0) return;\n\n    const groups = this.detectImageGroups(imageFigures);\n\n    groups.forEach((group, index) =\u003e {\n      \n      if (group.length \u003e 1 \u0026\u0026 this.config.justified_gallery) {\n        this.createJustifiedGalleryGroup(group, index);\n      } else {\n        this.processIndividualImages(group);\n      }\n    });\n  }\n\n  detectImageGroups(figures) {\n    const groups = [];\n    let currentGroup = [];\n\n    for (let i = 0; i \u003c figures.length; i++) {\n      const figure = figures[i];\n      const nextFigure = figures[i + 1];\n\n      currentGroup.push(figure);\n\n      if (nextFigure \u0026\u0026 this.areConsecutiveByEmptyLine(figure, nextFigure)) {\n        continue;\n      } else {\n        if (currentGroup.length \u003e 0) {\n          groups.push([...currentGroup]);\n          currentGroup = [];\n        }\n      }\n    }\n\n    if (currentGroup.length \u003e 0) {\n      groups.push([...currentGroup]);\n    }\n\n    return groups;\n  }\n\n  areConsecutiveByEmptyLine(figure1, figure2) {\n    let current = figure1.nextElementSibling;\n\n    while (current \u0026\u0026 current !== figure2) {\n      if (current.nodeType === Node.TEXT_NODE) {\n        const text = current.textContent.trim();\n        if (text === '') {\n          current = current.nextElementSibling;\n          continue;\n        }\n        return false;\n      }\n\n      if (current.nodeType === Node.ELEMENT_NODE) {\n        if (current.matches('.image-figure')) {\n          current = current.nextElementSibling;\n          continue;\n        }\n\n        const tagName = current.tagName.toLowerCase();\n        const text = current.textContent.trim();\n\n        if (tagName === 'p' \u0026\u0026 text === '') {\n          return false;\n        } else if (tagName === 'br') {\n          current = current.nextElementSibling;\n          continue;\n        } else if (text !== '') {\n          return false;\n        }\n        current = current.nextElementSibling;\n      }\n    }\n\n    return current === figure2;\n  }\n\n  processIndividualImages(figures) {\n    figures.forEach((figure, index) =\u003e {\n      figure.classList.add('single-image');\n      \n      if (this.config.lightbox) {\n        this.setupLightboxForSingleImage(figure, `single-${Date.now()}-${index}`);\n      }\n    });\n  }\n\n  createJustifiedGalleryGroup(figures, groupIndex) {\n    const galleryContainer = document.createElement('div');\n    galleryContainer.className = 'fj-gallery';\n    galleryContainer.id = `fj-gallery-${groupIndex}`;\n\n    figures.forEach(figure =\u003e {\n      const img = figure.querySelector('img');\n      const caption = figure.querySelector('.image-caption');\n\n      if (img) {\n        const item = document.createElement('div');\n        item.className = 'fj-gallery-item';\n\n        if (this.config.lightbox) {\n          const link = document.createElement('a');\n          link.href = img.getAttribute('data-gallery-src') || img.src;\n          link.className = 'glightbox';\n          link.setAttribute('data-gallery', galleryContainer.id);\n          \n          this.lightboxManager.setupAttributes(link, img, caption);\n\n          const newImg = document.createElement('img');\n          newImg.src = img.src;\n          newImg.alt = img.alt || '';\n          newImg.loading = 'lazy';\n\n          if (img.naturalWidth \u0026\u0026 img.naturalHeight) {\n            newImg.width = img.naturalWidth;\n            newImg.height = img.naturalHeight;\n          }\n\n          link.appendChild(newImg);\n          item.appendChild(link);\n        } else {\n          const newImg = document.createElement('img');\n          newImg.src = img.src;\n          newImg.alt = img.alt || '';\n          newImg.loading = 'lazy';\n\n          if (img.naturalWidth \u0026\u0026 img.naturalHeight) {\n            newImg.width = img.naturalWidth;\n            newImg.height = img.naturalHeight;\n          }\n\n          item.appendChild(newImg);\n        }\n\n        galleryContainer.appendChild(item);\n      }\n    });\n\n    // 替换第一个图片并移除其他图片\n    const firstFigure = figures[0];\n    firstFigure.parentNode.insertBefore(galleryContainer, firstFigure);\n    figures.forEach(figure =\u003e figure.remove());\n\n    // 初始化布局\n    this.justifiedManager.initialize(galleryContainer);\n\n    // 初始化灯箱\n    if (this.config.lightbox) {\n      this.lightboxManager.initialize(galleryContainer, galleryContainer.id);\n    }\n\n    this.galleries.push({\n      container: galleryContainer,\n      id: galleryContainer.id,\n      index: groupIndex\n    });\n  }\n\n  setupLightboxForSingleImage(figure, galleryId) {\n    const img = figure.querySelector('img');\n    const caption = figure.querySelector('.image-caption');\n    \n    if (!img) return;\n\n    const link = document.createElement('a');\n    link.href = img.getAttribute('data-gallery-src') || img.src;\n    link.className = 'glightbox';\n    link.setAttribute('data-gallery', galleryId);\n\n    this.lightboxManager.setupAttributes(link, img, caption);\n\n    img.parentNode.insertBefore(link, img);\n    link.appendChild(img);\n\n    this.lightboxManager.initialize(figure, galleryId);\n  }\n\n\n\n\n  updateLayout() {\n    this.justifiedManager.resize();\n  }\n\n  destroy() {\n    this.justifiedManager.destroy();\n    this.lightboxManager.destroy();\n    this.galleries = [];\n  }\n}\n\n// 初始化画廊功能\nconst imageGallery = new ImageGallery();\n\n// 监听窗口大小变化\nlet resizeTimer;\nwindow.addEventListener('resize', () =\u003e {\n  clearTimeout(resizeTimer);\n  resizeTimer = setTimeout(() =\u003e {\n    imageGallery.updateLayout();\n  }, 250);\n});\n\n// 导出到全局作用域\nwindow.ImageGallery = ImageGallery;\nwindow.LightboxManager = LightboxManager;\nwindow.JustifiedLayoutManager = JustifiedLayoutManager;"],"mappings":"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","names":[]}